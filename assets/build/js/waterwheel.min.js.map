{"version":3,"sources":["waterwheel.min.js"],"names":["$","$gallery","methods","init","this","each","$this","data","children","addClass","eq","removeClass","$buttons","after","find","on","nextClick","prevClick","target","prevSecond","prev","selected","next","nextSecond","buttons","calcPositions","moveTo","direction","$selected","$next","$prev","length","lastSlide","clone","prependTo","remove","firstSlide","appendTo","$prevSecond","$nextSecond","nextAll","css","width","left","top","prevAll","newData","Object","assign","containerWidth","selectedWidth","secondWidth","thirdWidth","selectedLeft","secondX","thirdX","secondY","thirdY","destroy","removeData","fn","waterwheel","method","apply","Array","prototype","slice","call","arguments","error","jQuery"],"mappings":"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","file":"waterwheel.min.js","sourcesContent":["(function ($) {\r\n\r\n    var $gallery = null;\r\n    \r\n    var methods = {\r\n        init: function () {\r\n            return this.each(function () {\r\n\r\n                var $this = $(this);\r\n                var data = $this.data('waterwheel');\r\n\r\n                if (!data) {\r\n                    $this.children(\".slide\").addClass(\"hideRight\");\r\n                    $this.children(\".slide\").eq(0).removeClass(\"hideRight\").addClass(\"prevSecond\");\r\n                    $this.children(\".slide\").eq(1).removeClass(\"hideRight\").addClass(\"prev\");\r\n                    $this.children(\".slide\").eq(2).removeClass(\"hideRight\").addClass(\"selected\");\r\n                    $this.children(\".slide\").eq(3).removeClass(\"hideRight\").addClass(\"next\");\r\n                    $this.children(\".slide\").eq(4).removeClass(\"hideRight\").addClass(\"nextSecond\");\r\n\r\n                    var $buttons = $('<div class=\"buttons\">\\\r\n                    <button class= \"prev-btn\" ></ >\\\r\n                    <button class=\"next-btn\"></button>\\\r\n                    </div >');\r\n\r\n                    $this.after($buttons);\r\n                    $buttons.find(\".next-btn\").on('click', methods.nextClick);\r\n                    $buttons.find(\".prev-btn\").on('click', methods.prevClick);\r\n\r\n                    $this.data('waterwheel', {\r\n                        target: $this,\r\n                        prevSecond: $this.children(\".slide\").eq(0),\r\n                        prev: $this.children(\".slide\").eq(1),\r\n                        selected: $this.children(\".slide\").eq(2),\r\n                        next: $this.children(\".slide\").eq(3),\r\n                        nextSecond: $this.children(\".slide\").eq(4),\r\n                        buttons: $buttons\r\n                    });\r\n                    $gallery = $this;\r\n                    methods.calcPositions();\r\n                }\r\n            });\r\n        },\r\n        nextClick: function () {\r\n            methods.moveTo('next');\r\n        },\r\n        prevClick: function () {\r\n            methods.moveTo('prev');\r\n        },\r\n        moveTo: function (direction) {\r\n\r\n            var data = $gallery.data('waterwheel');\r\n            var $selected = null;\r\n\r\n            if (direction == \"next\") {\r\n                $selected = data.next;\r\n            } else if (direction == \"prev\") {\r\n                $selected = data.prev;\r\n            }\r\n\r\n            var $next = $selected.next();\r\n            var $prev = $selected.prev();\r\n\r\n            if($prev.prev().length === 0 ) {\r\n                var lastSlide = $gallery.find(\"div.slide:last-child\");\r\n                lastSlide.clone().prependTo($gallery);\r\n                lastSlide.remove();\r\n            }\r\n\r\n            if($next.next().length === 0) {\r\n                var firstSlide = $gallery.find(\"div.slide:first-child\");\r\n                firstSlide.clone().appendTo($gallery);\r\n                firstSlide.remove();\r\n            }\r\n\r\n            var $prevSecond = $prev.prev();\r\n            var $nextSecond = $next.next();\r\n\r\n            $selected.removeClass().addClass(\"slide\").addClass(\"selected\");\r\n            $prev.removeClass().addClass(\"slide\").addClass(\"prev\");\r\n            $next.removeClass().addClass(\"slide\").addClass(\"next\");\r\n\r\n            $nextSecond.removeClass().addClass(\"slide\").addClass(\"nextSecond\");\r\n            $prevSecond.removeClass().addClass(\"slide\").addClass(\"prevSecond\");\r\n\r\n            $nextSecond.nextAll().removeClass().addClass(\"slide\").addClass('hideRight').css({\"width\": \"auto\", \"left\": \"\", \"top\": \"\"});\r\n            $prevSecond.prevAll().removeClass().addClass(\"slide\").addClass('hideLeft').css({\"width\": \"auto\", \"left\": \"\", \"top\": \"\"});\r\n\r\n            var newData = Object.assign({}, data, {\r\n                prevSecond: $prevSecond,\r\n                prev: $prev,\r\n                selected: $selected,\r\n                next: $next,\r\n                nextSecond: $nextSecond,\r\n            });\r\n            $gallery.data('waterwheel', newData);\r\n            methods.calcPositions();\r\n        },\r\n        calcPositions: function() {\r\n            var data = $gallery.data('waterwheel');\r\n\r\n            var $selected = data.selected;\r\n            var $next = data.next;\r\n            var $prev = data.prev;\r\n            var $prevSecond = data.prevSecond;\r\n            var $nextSecond = data.nextSecond;\r\n    \r\n            var containerWidth = data.target.width();\r\n            $selected.css({ top: 0 });\r\n    \r\n            var selectedWidth = containerWidth * 57.3 / 100;\r\n            var secondWidth = containerWidth * 39 / 100;\r\n            var thirdWidth = containerWidth * 29.9 / 100;\r\n    \r\n            $selected.width(selectedWidth);\r\n            $next.width(secondWidth);\r\n            $prev.width(secondWidth);\r\n            $nextSecond.width(thirdWidth);\r\n            $prevSecond.width(thirdWidth);\r\n    \r\n            var selectedLeft = (containerWidth - selectedWidth) / 2;\r\n            $selected.css({ left: selectedLeft });\r\n            \r\n            var secondX = (containerWidth - selectedWidth - 2 * (secondWidth / 3)) / 2;\r\n            $next.css({ left: containerWidth - secondX - secondWidth });\r\n            $prev.css({ left: secondX });\r\n    \r\n            var thirdX = (containerWidth - selectedWidth - 2 * (secondWidth / 3) - 2 * (thirdWidth / 3)) / 2;\r\n            $nextSecond.css({ left: containerWidth - thirdX - thirdWidth });\r\n            $prevSecond.css({ left: thirdX });\r\n    \r\n            var secondY = (selectedWidth * 0.66878981 - secondWidth * 0.66878981) / 2;\r\n            $next.css({ top: secondY });\r\n            $prev.css({ top: secondY });\r\n    \r\n            var thirdY = (selectedWidth * 0.66878981 - thirdWidth * 0.66878981) / 2;\r\n            $nextSecond.css({ top: thirdY });\r\n            $prevSecond.css({ top: thirdY });\r\n\r\n            $gallery.children('.hideRight').css({ top: thirdY});\r\n            $gallery.children('.hideLeft').css({ top: thirdY});\r\n        },\r\n        destroy: function () {\r\n            return this.each(function () {\r\n\r\n                var $this = $(this);\r\n                var data = $this.data('waterwheel');\r\n\r\n                if (data) {\r\n                    $this.children().removeClass(\"hideRight\");\r\n                    $this.children().removeClass(\"prevSecond\");\r\n                    $this.children().removeClass(\"prev\");\r\n                    $this.children().removeClass(\"selected\");\r\n                    $this.children().removeClass(\"next\");\r\n                    $this.children().removeClass(\"nextSecond\");\r\n                    $this.children().css({\"width\": \"auto\", \"left\": \"\", \"top\": \"\"});\r\n\r\n                    var $buttons = data.buttons;\r\n                    $buttons.find(\".next-btn\").on('click', methods.nextClick);\r\n                    $buttons.find(\".prev-btn\").on('click', methods.prevClick);\r\n                    $buttons.remove();\r\n                    \r\n                    $this.removeData('waterwheel');\r\n                    $gallery = null;\r\n                }\r\n            });\r\n        }\r\n    };\r\n\r\n    $.fn.waterwheel = function (method) {\r\n\r\n        if (methods[method]) {\r\n            return methods[method].apply(this, Array.prototype.slice.call(arguments, 1));\r\n        } else if (typeof method === 'object' || !method) {\r\n            return methods.init.apply(this, arguments);\r\n        } else {\r\n            $.error('Метод с именем ' + method + ' не существует для jQuery.waterwheel');\r\n        }\r\n\r\n    };\r\n})(jQuery);"]}